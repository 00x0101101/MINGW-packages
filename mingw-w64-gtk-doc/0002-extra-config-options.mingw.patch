--- gtk-doc-1.18/configure.ac.orig	2013-04-06 10:14:45 +0400
+++ gtk-doc-1.18/configure.ac	2013-04-06 18:17:43 +0400
@@ -176,6 +176,14 @@
 PACKAGE_DATA_DIR="${datadir}/${PACKAGE}/data"
 AC_DEFINE_DIR([PACKAGE_DATA_DIR], [PACKAGE_DATA_DIR])
 
+dnl
+dnl Check for user-provided pkg-config datadir
+dnl
+AC_ARG_WITH([pkg-config-datadir],
+	AS_HELP_STRING([--with-pkg-config-datadir], [Specify datadir to use in a .pc file]),
+	, [with_pkg_config_datadir=${PACKAGE_DATA_DIR}])
+AC_DEFINE_DIR([PKG_CONFIG_DATA_DIR], [with_pkg_config_datadir])
+
 dnl Only use -Wall if we have gcc
 if test "x$GCC" = "xyes"; then
 	if test -z "`echo "$CFLAGS" | grep "\-Wall" 2> /dev/null`" ; then
--- gtk-doc-1.18/gtk-doc.pc.in.orig	2013-04-06 10:14:45 +0400
+++ gtk-doc-1.18/gtk-doc.pc.in	2013-04-06 18:18:38 +0400
@@ -1,6 +1,6 @@
 prefix=@prefix@
 exec_prefix=@exec_prefix@
-data_dir=@PACKAGE_DATA_DIR@
+data_dir=@PKG_CONFIG_DATA_DIR@
 
 Name: gtk-doc
 Description: API documentation generator
