--- blender-2.69/CMakeLists.txt.orig	2014-01-12 16:24:59.584400000 +0400
+++ blender-2.69/CMakeLists.txt	2014-01-12 16:37:28.198400000 +0400
@@ -969,10 +969,10 @@
 		
 		if(WITH_MINGW64)
 			message(STATUS "Compiling for 64 bit with MinGW-w64.")
-			set(LIBDIR ${CMAKE_SOURCE_DIR}/../lib/mingw64)
+			set(LIBDIR ${MINGW_LIBS})
 		else()
 			message(STATUS "Compiling for 32 bit with MinGW-w32.")
-			set(LIBDIR ${CMAKE_SOURCE_DIR}/../lib/mingw32)
+			set(LIBDIR ${MINGW_LIBS})
 			
 			if(WITH_RAYOPTIMIZATION)
 				message(WARNING "MinGW-w32 is known to be unstable with 'WITH_RAYOPTIMIZATION' option enabled.")
@@ -1320,7 +1320,7 @@
 
 		add_definitions(-DFREE_WINDOWS)
 
-		set(PNG "${LIBDIR}/png")
+		set(PNG "${LIBDIR}")
 		set(PNG_INCLUDE_DIR "${PNG}/include")
 		set(PNG_LIBPATH ${PNG}/lib) # not cmake defined
 
@@ -1331,7 +1331,7 @@
 		endif()
 		set(PNG_LIBRARIES png)
 
-		set(ZLIB ${LIBDIR}/zlib)
+		set(ZLIB ${LIBDIR})
 		set(ZLIB_INCLUDE_DIRS ${ZLIB}/include)
 		set(ZLIB_LIBPATH ${ZLIB}/lib)
 		set(ZLIB_LIBRARIES z)
@@ -1344,20 +1344,20 @@
 			set(PTHREADS_LIBRARIES pthreadGC2)
 		endif()
 		
-		set(FREETYPE ${LIBDIR}/freetype)
+		set(FREETYPE ${LIBDIR})
 		set(FREETYPE_INCLUDE_DIRS ${FREETYPE}/include ${FREETYPE}/include/freetype2)
 		set(FREETYPE_LIBPATH ${FREETYPE}/lib)
 		set(FREETYPE_LIBRARY freetype)
 
 		if(WITH_FFTW3)
-			set(FFTW3 ${LIBDIR}/fftw3)
+			set(FFTW3 ${LIBDIR})
 			set(FFTW3_LIBRARIES fftw3)
 			set(FFTW3_INCLUDE_DIRS ${FFTW3}/include)
 			set(FFTW3_LIBPATH ${FFTW3}/lib)
 		endif()
 
 		if(WITH_OPENCOLLADA)
-			set(OPENCOLLADA ${LIBDIR}/opencollada)
+			set(OPENCOLLADA ${LIBDIR})
 			set(OPENCOLLADA_INCLUDE_DIRS
 				${OPENCOLLADA}/include/opencollada/COLLADAStreamWriter
 				${OPENCOLLADA}/include/opencollada/COLLADABaseUtils
@@ -1371,7 +1371,7 @@
 		endif()
 
 		if(WITH_CODEC_FFMPEG)
-			set(FFMPEG ${LIBDIR}/ffmpeg)
+			set(FFMPEG ${LIBDIR})
 			set(FFMPEG_INCLUDE_DIRS ${FFMPEG}/include)
 			if(WITH_MINGW64)
 				set(FFMPEG_LIBRARIES avcodec.dll avformat.dll avdevice.dll avutil.dll swscale.dll swresample.dll)
@@ -1382,7 +1382,7 @@
 		endif()
 
 		if(WITH_IMAGE_OPENEXR)
-			set(OPENEXR ${LIBDIR}/openexr)
+			set(OPENEXR ${LIBDIR})
 			set(OPENEXR_INCLUDE_DIR ${OPENEXR}/include)
 			set(OPENEXR_INCLUDE_DIRS ${OPENEXR}/include/OpenEXR)
 			set(OPENEXR_LIBRARIES Half IlmImf Imath IlmThread Iex)
@@ -1390,14 +1390,14 @@
 		endif()
 
 		if(WITH_IMAGE_TIFF)
-			set(TIFF ${LIBDIR}/tiff)
+			set(TIFF ${LIBDIR})
 			set(TIFF_LIBRARY tiff)
 			set(TIFF_INCLUDE_DIR ${TIFF}/include)
 			set(TIFF_LIBPATH ${TIFF}/lib)
 		endif()
 
 		if(WITH_JACK)
-			set(JACK ${LIBDIR}/jack)
+			set(JACK ${LIBDIR})
 			set(JACK_INCLUDE_DIRS ${JACK}/include/jack ${JACK}/include)
 			set(JACK_LIBRARIES jack)
 			set(JACK_LIBPATH ${JACK}/lib)
@@ -1409,8 +1409,8 @@
 		if(WITH_PYTHON)
 			# normally cached but not since we include them with blender
 			set(PYTHON_VERSION 3.3) #  CACHE STRING)
-			set(PYTHON_INCLUDE_DIR "${LIBDIR}/python/include/python${PYTHON_VERSION}")  # CACHE PATH)
-			set(PYTHON_LIBRARY "${LIBDIR}/python/lib/python33mw.lib")  # CACHE FILEPATH)
+			set(PYTHON_INCLUDE_DIR "${LIBDIR}/include/python${PYTHON_VERSION}m")  # CACHE PATH)
+			set(PYTHON_LIBRARY "${LIBDIR}/lib/libpython3.3m.dll.a")  # CACHE FILEPATH)
 
 			# uncached vars
 			set(PYTHON_INCLUDE_DIRS "${PYTHON_INCLUDE_DIR}")
@@ -1418,14 +1418,14 @@
 		endif()
 
 		if(WITH_BOOST)
-			set(BOOST ${LIBDIR}/boost)
+			set(BOOST ${LIBDIR})
 			set(BOOST_INCLUDE_DIR ${BOOST}/include)
 			if(WITH_MINGW64)
-				set(BOOST_POSTFIX "mgw47-mt-s-1_49")
-				set(BOOST_DEBUG_POSTFIX "mgw47-mt-sd-1_49")
+				set(BOOST_POSTFIX "mt")
+				set(BOOST_DEBUG_POSTFIX "mt")
 			else()
-				set(BOOST_POSTFIX "mgw46-mt-s-1_49")
-				set(BOOST_DEBUG_POSTFIX "mgw46-mt-sd-1_49")
+				set(BOOST_POSTFIX "mt")
+				set(BOOST_DEBUG_POSTFIX "mt")
 			endif()
 			set(BOOST_LIBRARIES
 				optimized boost_date_time-${BOOST_POSTFIX} boost_filesystem-${BOOST_POSTFIX}
@@ -1449,7 +1449,7 @@
 		endif()
 			
 		if(WITH_OPENIMAGEIO)
-			set(OPENIMAGEIO ${LIBDIR}/openimageio)
+			set(OPENIMAGEIO ${LIBDIR})
 			set(OPENIMAGEIO_INCLUDE_DIRS ${OPENIMAGEIO}/include)
 			set(OPENIMAGEIO_LIBRARIES OpenImageIO)
 			set(OPENIMAGEIO_LIBPATH ${OPENIMAGEIO}/lib)
@@ -1457,7 +1457,7 @@
 		endif()
 		
 		if(WITH_LLVM)
-			set(LLVM_DIRECTORY ${LIBDIR}/llvm CACHE PATH	"Path to the LLVM installation")
+			set(LLVM_DIRECTORY ${LIBDIR} CACHE PATH	"Path to the LLVM installation")
 			set(LLVM_LIBPATH ${LLVM_DIRECTORY}/lib)
 			# Explicitly set llvm lib order.
 			#---- WARNING ON GCC ORDER OF LIBS IS IMPORTANT, DO NOT CHANGE! ---------
@@ -1484,7 +1484,7 @@
 		endif()
 		
 		if(WITH_OPENCOLORIO)
-			set(OPENCOLORIO ${LIBDIR}/opencolorio)
+			set(OPENCOLORIO ${LIBDIR})
 			set(OPENCOLORIO_INCLUDE_DIRS ${OPENCOLORIO}/include)
 			set(OPENCOLORIO_LIBRARIES OpenColorIO)
 			set(OPENCOLORIO_LIBPATH ${OPENCOLORIO}/lib)
