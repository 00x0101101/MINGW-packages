diff --git a/src/lib/qtprofilesetup/qtmoduleinfo.cpp b/src/lib/qtprofilesetup/qtmoduleinfo.cpp
index e55cd0c..88f68d9 100644
--- a/src/lib/qtprofilesetup/qtmoduleinfo.cpp
+++ b/src/lib/qtprofilesetup/qtmoduleinfo.cpp
@@ -217,7 +217,7 @@ void QtModuleInfo::setupLibraries(const QtEnvironment &qtEnv, bool debugBuild,
             if (qtEnv.mkspecName.contains(QLatin1String("msvc")))
                 libFilePath += QLatin1String(".lib");
             else if (isMingw)
-                libFilePath += QLatin1String(".a");
+                libFilePath += isStaticLibrary ? QLatin1String(".a") : QLatin1String(".dll.a");
             continue;
         }
         if (!simplifiedLine.startsWith("QMAKE_PRL_LIBS"))
--
2.1.1