# Maintainer: Martell Malone < martell malone at g mail dot com >

_realname=go
_mingw_suff=mingw-w64-${CARCH}
pkgname=("${_mingw_suff}-${_realname}")
pkgver=1.2
pkgrel=1
pkgdesc="Go Lang"
arch=('any')
groups=("${_mingw_suff}")
license=('BSD')
makedepends=("${_mingw_suff}-gcc")
url="http://www.golang.org/"

depends=()
options=('!strip')

source=("http://go.googlecode.com/files/go${pkgver}.src.tar.gz")
sha1sums=('7dd2408d40471aeb30a9e0b502c6717b5bf383a5')

build() {
  cd ${srcdir}/go/src
  ./all.bat
}

package() {
  mkdir -p ${pkgdir}${MINGW_PREFIX}
  mv "${srcdir}/go/bin" "${pkgdir}${MINGW_PREFIX}/"
  mv "${srcdir}/go/pkg" "${pkgdir}${MINGW_PREFIX}/"
}
