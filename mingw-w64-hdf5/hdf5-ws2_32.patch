--- src/CMakeLists.txt.orig	2013-11-21 23:13:52.000000000 +0800
+++ src/CMakeLists.txt	2014-04-29 17:27:57.526688800 +0800
@@ -618,6 +618,9 @@
 IF (MSVC)
   TARGET_LINK_LIBRARIES (H5detect "ws2_32.lib")
 ENDIF (MSVC)
+IF (MINGW)
+  TARGET_LINK_LIBRARIES (H5detect "-lws2_32")
+ENDIF (MINGW)
 
 SET (CMD $<TARGET_FILE:H5detect>)
 ADD_CUSTOM_COMMAND (
@@ -632,6 +635,9 @@
 IF (MSVC)
   TARGET_LINK_LIBRARIES (H5make_libsettings "ws2_32.lib")
 ENDIF (MSVC)
+IF (MINGW)
+  TARGET_LINK_LIBRARIES (H5make_libsettings "-lws2_32")
+ENDIF (MINGW)
 
 SET (CMD $<TARGET_FILE:H5make_libsettings>)
 ADD_CUSTOM_COMMAND (
