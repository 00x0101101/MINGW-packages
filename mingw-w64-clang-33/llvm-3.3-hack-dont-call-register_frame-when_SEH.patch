--- llvm-3.3.src/lib/ExecutionEngine/JIT/JIT.cpp.orig	2013-01-22 09:46:31.000000000 +0000
+++ llvm-3.3.src/lib/ExecutionEngine/JIT/JIT.cpp	2014-01-05 12:53:41.071263900 +0000
@@ -308,8 +308,10 @@
   InstallExceptionTableRegister(DarwinRegisterFrame);
   // Not sure about how to deregister on Darwin.
 #else
+#if !defined(__SEH__)
   InstallExceptionTableRegister(__register_frame);
   InstallExceptionTableDeregister(__deregister_frame);
+#endif
 #endif // __APPLE__
 #endif // HAVE_EHTABLE_SUPPORT
 
--- llvm-3.3.src/lib/ExecutionEngine/MCJIT/SectionMemoryManager.cpp.orig	2013-05-05 21:43:10.000000000 +0100
+++ llvm-3.3.src/lib/ExecutionEngine/MCJIT/SectionMemoryManager.cpp	2014-01-05 13:49:38.818143600 +0000
@@ -148,7 +148,7 @@
 
 // Determine whether we can register EH tables.
 #if (defined(__GNUC__) && !defined(__ARM_EABI__) && \
-     !defined(__USING_SJLJ_EXCEPTIONS__))
+     !defined(__USING_SJLJ_EXCEPTIONS__) && !defined(__SEH__))
 #define HAVE_EHTABLE_SUPPORT 1
 #else
 #define HAVE_EHTABLE_SUPPORT 0
